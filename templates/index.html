<!DOCTYPE html>
<html>
<head>
    <title>Car Controller</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Car Controller</h1>

    <div style="text-align: center;">
        <button onmousedown="startMoveCar('forward')" onmouseup="stopMoveCar()">Move Forward</button>
        <br>
        <button onmousedown="startMoveCar('left')" onmouseup="stopMoveCar()">Turn Left</button>
        <button onmousedown="startMoveCar('stop')" onmouseup="stopMoveCar()">Stop</button>
        <button onmousedown="startMoveCar('right')" onmouseup="stopMoveCar()">Turn Right</button>
        <br>
        <button onmousedown="startMoveCar('backward')" onmouseup="stopMoveCar()">Move Backward</button>
    </div>

    <h2>Camera Feed</h2>
    <img id="camera-feed" src="/capture" alt="Camera feed">

    <script>
        var moveInterval;

        function startMoveCar(direction) {
            moveInterval = setInterval(function() {
                $.get('/move/' + direction);
            }, 100);
        }

        function stopMoveCar() {
            clearInterval(moveInterval);
            $.get('/move/stop');
        }

        // Refresh the camera feed every second
        setInterval(function() {
            $('#camera-feed').attr('src', '/capture?' + new Date().getTime());
        }, 1000);
    </script>
</body>
</html>